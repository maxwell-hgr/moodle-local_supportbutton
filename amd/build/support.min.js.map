{"version":3,"file":"support.min.js","sources":["../src/support.js"],"sourcesContent":["define(['jquery'], function($) {\n    var loaded = false;\n    var config = {};\n\n    return {\n        init: function(params) {\n            var self = this;\n            config = params;\n\n            $('#btn-support-trigger').on('click', function(e) {\n                e.preventDefault();\n\n                if (!loaded) {\n                    self.carregarZammad();\n                } else {\n                    $('#cardAtendimentoPergunta').toggle();\n                }\n            });\n\n            $(document).on('click', '.noZammadButton, .closeButtonFirst, .noZammadButtonForm, .closeButtonForm', function() {\n                $('#cardAtendimentoPergunta, #cardFormulario').hide();\n            });\n\n            $(document).on('click', '.try-zammad-chat', function() {\n                $('#cardAtendimentoPergunta').hide();\n                $('.open-zammad-chat').click();\n\n                setTimeout(function() {\n                    if (!$('.js-chat-open').length) {\n                        $('#cardFormulario').show();\n                    }\n                }, 600);\n            });\n\n            $(document).on('click', '#feedback-form-try', function() {\n                $('#cardFormulario').hide();\n                $('#feedback-form').click();\n            });\n        },\n\n        carregarZammad: function() {\n            window.jQuery = window.$ = $;\n\n            if (!document.getElementById('zammad_form_script')) {\n                var ghostScript = document.createElement('script');\n                ghostScript.id = 'zammad_form_script';\n                ghostScript.src = \"https://atendimento.cead.unb.br/assets/form/form.js\";\n\n                ghostScript.onload = function() {\n                    $.getScript(\"https://atendimento.cead.unb.br/assets/chat/chat.min.js\")\n                        .done(function() {\n                            /* global ZammadChat */\n                            new ZammadChat({\n                                host: 'wss://atendimento.cead.unb.br/ws',\n                                background: config.background,\n                                chatId: config.chatId,\n                                show: false\n                            });\n\n                            $('#feedback-form').ZammadForm({\n                                messageTitle: 'Formul√°rio de suporte',\n                                modal: true\n                            });\n\n                            loaded = true;\n                            $('#cardAtendimentoPergunta').fadeIn();\n                        });\n                };\n                document.head.appendChild(ghostScript);\n            }\n        }\n    };\n});"],"names":["define","$","loaded","config","init","params","self","this","on","e","preventDefault","toggle","carregarZammad","document","hide","click","setTimeout","length","show","window","jQuery","getElementById","ghostScript","createElement","id","src","onload","getScript","done","ZammadChat","host","background","chatId","ZammadForm","messageTitle","modal","fadeIn","head","appendChild"],"mappings":"AAAAA,qCAAO,CAAC,WAAW,SAASC,OACpBC,QAAS,EACTC,OAAS,SAEN,CACHC,KAAM,SAASC,YACPC,KAAOC,KACXJ,OAASE,OAETJ,EAAE,wBAAwBO,GAAG,SAAS,SAASC,GAC3CA,EAAEC,iBAEGR,OAGDD,EAAE,4BAA4BU,SAF9BL,KAAKM,oBAMbX,EAAEY,UAAUL,GAAG,QAAS,6EAA6E,WACjGP,EAAE,6CAA6Ca,UAGnDb,EAAEY,UAAUL,GAAG,QAAS,oBAAoB,WACxCP,EAAE,4BAA4Ba,OAC9Bb,EAAE,qBAAqBc,QAEvBC,YAAW,WACFf,EAAE,iBAAiBgB,QACpBhB,EAAE,mBAAmBiB,SAE1B,QAGPjB,EAAEY,UAAUL,GAAG,QAAS,sBAAsB,WAC1CP,EAAE,mBAAmBa,OACrBb,EAAE,kBAAkBc,YAI5BH,eAAgB,cACZO,OAAOC,OAASD,OAAOlB,EAAIA,GAEtBY,SAASQ,eAAe,sBAAuB,KAC5CC,YAAcT,SAASU,cAAc,UACzCD,YAAYE,GAAK,qBACjBF,YAAYG,IAAM,sDAElBH,YAAYI,OAAS,WACjBzB,EAAE0B,UAAU,2DACPC,MAAK,eAEEC,WAAW,CACXC,KAAM,mCACNC,WAAY5B,OAAO4B,WACnBC,OAAQ7B,OAAO6B,OACfd,MAAM,IAGVjB,EAAE,kBAAkBgC,WAAW,CAC3BC,aAAc,wBACdC,OAAO,IAGXjC,QAAS,EACTD,EAAE,4BAA4BmC,aAG1CvB,SAASwB,KAAKC,YAAYhB"}